using Full_Metal_Planete.src.decorators.factory;
using Full_Metal_Planete.src.decorators.units_decorators;
using Metier.Unites;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Full_Metal_Planete.src.decorators
{
    public class ReserveAstronefHMI //: IReserve
    {
        private List<UnitHMI> _reserve = new List<UnitHMI>();

        private ReserveAstronef _reserveAstronef;

        private SpaceshipHMI _spaceship;

        public ReserveAstronefHMI(ReserveAstronef r, SpaceshipHMI spaceship)
        {
            _reserveAstronef = r;
            _spaceship = spaceship;
            work();
        }

        public List<UnitHMI> Units => _reserve;

        private void work()
        {
            while (_reserveAstronef.EstCreable(TypeEntite.PONDEUSE))
            {
                _reserve.Add(UnitHMIFactory.BuildUnitHMI(TypeEntite.PONDEUSE, null, _spaceship.Unite.Joueur));
                _reserveAstronef.Utilise(TypeEntite.PONDEUSE);
            }
        }
    }
}
