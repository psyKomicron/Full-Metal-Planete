using Full_Metal_Planete.src.decorators.units_decorators;
using FullMetalPlaneteDAL;
using Metier;
using Metier.Carte.Cases;
using Metier.Unites;
using System.Windows.Controls;
using System.Windows.Media.Imaging;

namespace Full_Metal_Planete.src.decorators.factory
{
    public class UnitHMIFactory
    {
        public static UnitHMI BuildUnitHMI(TypeEntite type, Case position, Joueur j, FileLoader fileLoader)
        {
            UnitHMI unit = null;
            switch (type)
            {
                case TypeEntite.ASTRONEF:
                    unit = new SpaceshipHMI(FabriqueUnite.CreeUnite(type, position, j));
                    unit.Image = new Image() 
                    { 
                        Source = new BitmapImage(fileLoader.GetUri("astronef.png")),
                    };
                    break;
                case TypeEntite.BARGE:
                    unit.Image = new Image()
                    {
                        Source = new BitmapImage(fileLoader.GetUri("barge.png"))
                    };
                    break;
                case TypeEntite.TANK:
                    unit.Image = new Image()
                    {
                        Source = new BitmapImage(fileLoader.GetUri("tank.png"))
                    };
                    break;
                case TypeEntite.CRABE:
                    unit.Image = new Image()
                    {
                        Source = new BitmapImage(fileLoader.GetUri("Crab3.png"))
                    };
                    break;
                case TypeEntite.GROS_TAS:
                    unit = new T95HMI(FabriqueUnite.CreeUnite(type, position, j));
                    unit.Image = new Image()
                    {
                        Source = new BitmapImage(fileLoader.GetUri("big_tank.png"))
                    };
                    break;
                case TypeEntite.PONDEUSE:
                    unit = new WeatherLayerHMI(FabriqueUnite.CreeUnite(type, position, j));
                    unit.Image = new Image()
                    {
                        Source = new BitmapImage(fileLoader.GetUri("weather_layer.png"))
                    };
                    break;
                case TypeEntite.TOURELLE:
                    unit.Image = new Image()
                    {
                        Source = new BitmapImage(fileLoader.GetUri("time.png"))
                    };
                    break;
                case TypeEntite.VEDETTE:
                    unit.Image = new Image()
                    {
                        Source = new BitmapImage(fileLoader.GetUri("boat.png")),
                    };
                    break;
            }
            unit.Image.Height = unit.Height;
            unit.Image.Width = unit.Width;
            unit.AddHandler();
            return unit;
        }
    }
}
